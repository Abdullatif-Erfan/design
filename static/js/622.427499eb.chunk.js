"use strict";(self.webpackChunkdesign=self.webpackChunkdesign||[]).push([[622],{2253:function(e,s,r){r.d(s,{Z:function(){return t}});r(2791);var a=r(184);var t=function(e){var s=e.className,r=e.children,t=e.styleAsProps;return(0,a.jsx)("section",{className:"section ".concat(s),style:t,children:(0,a.jsx)("div",{className:"row",children:r})})}},3935:function(e,s,r){r.d(s,{Z:function(){return t}});var a=r(184),t=function(){return(0,a.jsx)("div",{className:"spinnerWrapper",children:(0,a.jsxs)("div",{class:"lds-ripple",children:[(0,a.jsx)("div",{}),(0,a.jsx)("div",{})]})})}},4622:function(e,s,r){r.r(s),r.d(s,{default:function(){return O}});var a=r(6871),t=r(3504),i=r(2791),n=r(2253),c=r(4165),l=r(5861),d=r(1933),o=r(884),m=function(){var e=(0,l.Z)((0,c.Z)().mark((function e(){var s;return(0,c.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.Z.get("/details/msg_downtime_alert_wklyAVGTemp");case 2:return s=e.sent,e.abrupt("return",s);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),u=function(){var e=(0,l.Z)((0,c.Z)().mark((function e(){var s;return(0,c.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.Z.get("details/daily_temprature_chart");case 2:return s=e.sent,e.abrupt("return",s);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),h=function(){var e=(0,l.Z)((0,c.Z)().mark((function e(){var s;return(0,c.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.Z.get("details/system_log");case 2:return s=e.sent,e.abrupt("return",s);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),x=function(){var e=(0,l.Z)((0,c.Z)().mark((function e(){var s;return(0,c.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.Z.get("details/activity");case 2:return s=e.sent,e.abrupt("return",s);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),v=r(601),j=r(2165),p=r(2839),f=r(466),N=r(2891),g=r(4666),y=r(8811),w=r(184);var b=function(){var e=(0,d.useQuery)("Daily_temprature_chart",u),s=e.isLoading,r=e.isError,a=e.data,t=e.error;if(s)return(0,w.jsx)("h2",{children:"Loading..."});if(r)return(0,w.jsx)("span",{children:t instanceof Error?(0,w.jsx)("h2",{children:t.message}):"Unexpected error"});var i=null===a||void 0===a?void 0:a.data.records;return console.log(i),(0,w.jsx)("div",{className:"col-md-12 col-sm-12 col-xs-12 m-t-20 border-double",children:(0,w.jsxs)("div",{className:"row m-t-20",children:[(0,w.jsxs)("h5",{className:"",children:["TEMPERATURE DAILY"," ",(0,w.jsx)("small",{children:"( Note: this chart api has one device )"})]}),(0,w.jsx)("div",{className:"col-lg-12 m-t-10",children:(0,w.jsx)("div",{className:"row",children:(0,w.jsx)(v.h,{width:"100%",aspect:4,minHeight:"70%",children:(0,w.jsxs)(j.w,{width:500,height:300,data:i,margin:{top:5,right:30,left:20,bottom:5},children:[(0,w.jsx)(p.q,{borderWidth:1,horizontal:!0,vertical:!1,horizontalPoints:[40,80,120,160,200]}),(0,w.jsx)(f.K,{hide:!0}),(0,w.jsx)(N.B,{hide:!0}),(0,w.jsx)(g.D,{iconType:"square"}),(0,w.jsx)(y.x,{type:"monotone",dataKey:"Sensor1",stroke:"#8884d8"}),(0,w.jsx)(y.x,{type:"monotone",dataKey:"temp",stroke:"#82ca9d"})]})})})})]})})},Z=r(8265),k=r(5667),T=r(8602),_=[{name:"Monday",time:4e3,temp:2400},{name:"Tue",time:3e3,temp:1398},{name:"Wed",time:2e3,temp:9800},{name:"Thu",time:2780,temp:3908},{name:"Fri",time:1890,temp:4800},{name:"Sat",time:2390,temp:3800},{name:"Sun",time:3490,temp:4300}],E=function(){return(0,w.jsx)("div",{className:"col-md-6 col-sm-12 col-xs-12 border",children:(0,w.jsx)(v.h,{width:"100%",height:"100%",children:(0,w.jsxs)(Z.T,{width:500,height:400,data:_,margin:{top:10,right:30,left:0,bottom:0},children:[(0,w.jsx)(p.q,{strokeDasharray:"3 3"}),(0,w.jsx)(f.K,{dataKey:"name"}),(0,w.jsx)(N.B,{hide:!0}),(0,w.jsx)(k.u,{}),(0,w.jsx)(T.u,{type:"monotone",dataKey:"time",stroke:"#8884d8",fill:"#8884d8"}),(0,w.jsx)(T.u,{type:"monotone",dataKey:"temp",stroke:"#8884d8",fill:"#ddd"})]})})})},S=r(2426),A=r.n(S),M=r(3935),W=function(){var e=(0,d.useQuery)("System_log_data",h),s=e.isLoading,r=e.data,a=e.isError,t=e.error;return(0,w.jsx)(w.Fragment,{children:(0,w.jsxs)("div",{className:"col-md-6 col-sm-12 col-xs-12 ",children:[(0,w.jsx)("h6",{children:"SYSTEM LOG"}),(0,w.jsx)("div",{className:"col-md-12",children:(0,w.jsx)("div",{className:"card",children:(0,w.jsx)("div",{className:"card-body",children:(0,w.jsxs)("div",{className:"activity",children:[a&&(0,w.jsx)("div",{className:"errorWrapper",children:t instanceof Error&&(0,w.jsx)("div",{className:"errorMessage",children:t.message})}),s?(0,w.jsx)(M.Z,{}):null===r||void 0===r?void 0:r.data.records.map((function(e){var s=e.time,r=e.description;return(0,w.jsxs)("div",{className:"activity-item d-flex",children:[(0,w.jsx)("div",{className:"activite-label"}),(0,w.jsx)("i",{className:"bi bi-circle-fill activity-badge text-muted align-self-start"}),(0,w.jsxs)("div",{className:"activity-content",children:[r.substring(1,20)+"...",(0,w.jsx)("span",{className:"dateOrTime",children:A()(Number(s)).startOf("hour").fromNow()})]})]},s)})),(0,w.jsxs)("div",{className:"activity-item d-flex",children:[(0,w.jsx)("div",{className:"activite-label"}),(0,w.jsx)("i",{className:"bi bi-circle activity-badge text-muted align-self-start"}),(0,w.jsx)("div",{className:"activity-content",children:"view all"})]})]})})})})]})})},L=function(){var e=(0,d.useQuery)("Activity_Data",x),s=e.isLoading,r=e.data,a=e.isError,t=e.error;return(0,w.jsxs)("div",{className:"col-md-6 col-sm-12 col-xs-12",children:[(0,w.jsx)("h6",{children:"Activity"}),(0,w.jsx)("div",{className:"col-md-12",children:(0,w.jsx)("div",{className:"card",children:(0,w.jsxs)("div",{className:"card-body",children:[a&&(0,w.jsx)("div",{className:"errorWrapper",children:t instanceof Error&&(0,w.jsx)("div",{className:"errorMessage",children:t.message})}),s?(0,w.jsx)(M.Z,{}):null===r||void 0===r?void 0:r.data.records.map((function(e){var s=e.time,r=e.description,a=e.event_name;return(0,w.jsxs)("div",{className:"activitiesWrapper",children:[(0,w.jsxs)("div",{className:"deviceItem ",children:[(0,w.jsx)("i",{className:"bi bi-person-circle"}),(0,w.jsxs)("span",{className:"deviceformation",children:[(0,w.jsx)("div",{className:"deviceStatus",children:a}),(0,w.jsx)("div",{className:"onlineOfflineStatus",children:A()(Number(s)).startOf("hour").fromNow()})]})]}),(0,w.jsx)("p",{className:"activityText",children:r})]},s)}))]})})})]})},D=function(e){var s=e.title,r=e.text,a=e.amount,t=e.type;return(0,w.jsx)("div",{className:"row border",children:(0,w.jsxs)("div",{className:"totalMessageWrapper",children:[(0,w.jsxs)("div",{className:"totalMessage",children:[(0,w.jsx)("h6",{children:s}),(0,w.jsx)("small",{children:r})]}),(0,w.jsxs)("span",{className:"totalDownTime",children:[(0,w.jsx)("h4",{children:a}),(0,w.jsx)("small",{children:t})]})]})})},O=function(){var e=(0,a.UO)().device_id,s=(0,d.useQuery)("Msg_Downtime_Alerts_WeeklyAvgTemp",m),r=s.isLoading,c=s.data,l=s.isError,o=s.error,u=null===c||void 0===c?void 0:c.data.records.overview,h=null===u||void 0===u?void 0:u.alerts,x=null===u||void 0===u?void 0:u.down_time,v=null===u||void 0===u?void 0:u.total_messages;return(0,w.jsx)(i.Fragment,{children:(0,w.jsx)("main",{id:"main",className:"main",children:(0,w.jsxs)(n.Z,{className:"sensorDetails",children:[(0,w.jsxs)("h5",{className:"card-title",children:[(0,w.jsx)(t.rU,{to:"/",children:(0,w.jsx)("span",{className:"backButton",children:(0,w.jsx)("i",{className:"bi bi-arrow-left"})})}),"Sensor - ",e]}),(0,w.jsx)("div",{className:"col-lg-12",children:(0,w.jsxs)("div",{className:"row",children:[l&&(0,w.jsx)("div",{className:"errorWrapper",children:o instanceof Error&&(0,w.jsx)("div",{className:"errorMessage",children:o.message})}),r?(0,w.jsx)(M.Z,{}):(0,w.jsxs)("div",{className:"col-md-6 col-sm-12 col-xs-12",children:[(0,w.jsx)(D,{title:"TOTAL MESSAGES",text:"Total Messages this week",amount:v}),(0,w.jsx)(D,{title:"DOWN TIME",text:"Total down time",amount:x,type:"sec"}),(0,w.jsx)(D,{title:"ALERTS",text:"System Alerts this week",amount:h})]}),(0,w.jsx)(E,{})]})}),(0,w.jsx)(b,{}),(0,w.jsx)("div",{className:"col-lg-12 m-t-40",children:(0,w.jsx)("div",{className:"activityWrapper",children:(0,w.jsxs)("div",{className:"row",children:[(0,w.jsx)(W,{}),(0,w.jsx)(L,{})]})})})]})})})}},884:function(e,s,r){var a=r(4569),t=r.n(a)().create({baseURL:"https://sensorsapi.herokuapp.com",headers:{"Content-Type":"application/json"}});s.Z=t}}]);
//# sourceMappingURL=622.427499eb.chunk.js.map