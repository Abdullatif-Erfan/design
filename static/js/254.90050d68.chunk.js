"use strict";(self.webpackChunkdesign=self.webpackChunkdesign||[]).push([[254],{2253:function(e,s,r){r.d(s,{Z:function(){return n}});r(2791);var a=r(184);var n=function(e){var s=e.className,r=e.children,n=e.styleAsProps;return(0,a.jsx)("section",{className:"section ".concat(s),style:n,children:(0,a.jsx)("div",{className:"row",children:r})})}},5254:function(e,s,r){r.r(s),r.d(s,{default:function(){return h}});var a=r(1413),n=r(2791),t=r(2253),i=r(2982),c=r(4165),l=r(5861),o=r(884),m=r(1933),d=function(){var e=(0,l.Z)((0,c.Z)().mark((function e(s){var r;return(0,c.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,o.Z.post("operations",s);case 3:return r=e.sent,e.abrupt("return",r);case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0.message);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(s){return e.apply(this,arguments)}}(),u=r(1134),p=r(184),h=function(){var e=(0,u.cI)(),s=e.register,r=e.handleSubmit,c=(e.watch,e.formState.errors),l=function(e){var s=(0,m.useQueryClient)();return(0,m.useMutation)(d,{onSuccess:function(e){s.setQueriesData(["sensors_list",1],(function(s){return(0,a.Z)((0,a.Z)({},s),{},{data:[e.data].concat((0,i.Z)(s.data))})}))}})}(),o=l.mutate;l.isLoading,l.isError,l.error;return(0,p.jsx)(n.Fragment,{children:(0,p.jsxs)("main",{id:"main",className:"main",children:[(0,p.jsx)(t.Z,{className:"dashboard"}),(0,p.jsx)("div",{className:"col-lg-12",children:(0,p.jsxs)("div",{className:"row",children:[(0,p.jsxs)("div",{className:"col-md-8 col-sm-8 col-xs-12 ",children:[(0,p.jsx)("h4",{children:"New Sensor"}),(0,p.jsx)("hr",{}),(0,p.jsxs)("form",{onSubmit:r((function(e){var s=Date.now(),r={device_id:e.device_id,last_online:s,last_temp:e.last_temp,customer:"customer-1",location:e.location};o(r)})),children:[(0,p.jsx)("div",{className:"form-fields m-t-20",children:(0,p.jsx)("input",(0,a.Z)({placeholder:"Sensor ID"},s("device_id")))}),(0,p.jsxs)("div",{className:"form-fields m-t-20",children:[(0,p.jsx)("input",(0,a.Z)({placeholder:"location"},s("location",{required:!0}))),c.location&&(0,p.jsx)("div",{className:"error",children:"This field is required"})]}),(0,p.jsx)("div",{className:"form-fields m-t-20"}),(0,p.jsxs)("div",{className:"form-fields m-t-20 m-b-50",children:[(0,p.jsx)("input",(0,a.Z)({type:"number",step:"0.5",placeholder:"Last Temp"},s("last_temp",{required:{value:!0,message:"Last Temp  is required"},pattern:{value:/^[0-9]+$/,message:"Please Type Just number"}}))),(0,p.jsx)("div",{className:"error",children:c.last_temp&&c.last_temp.message})]}),(0,p.jsx)("hr",{}),(0,p.jsxs)("span",{className:"submit_buttons",children:[(0,p.jsx)("button",{type:"submit",className:"submitButton",children:"Add Sensor"}),(0,p.jsx)("button",{className:"cancelButton",children:"Cancel"})]})]})]}),(0,p.jsxs)("div",{className:"col-md-4 col-sm-4 col-xs-12",children:[(0,p.jsx)("h4",{children:"Alerts"})," ",(0,p.jsx)("hr",{}),(0,p.jsxs)("div",{className:"form-fields m-t-20",children:[(0,p.jsxs)("div",{className:"form-fields m-t-20",children:[(0,p.jsx)("input",(0,a.Z)({placeholder:"MinTemp"},s("minTemp"))),(0,p.jsx)("br",{}),(0,p.jsx)("input",(0,a.Z)((0,a.Z)({},s("minTemp")),{},{type:"checkbox",value:"Monitor Min",className:"minTemp"})),(0,p.jsx)("span",{className:"checkBoxTitle",children:" Monitor Min Temprature"})]}),(0,p.jsxs)("div",{className:"form-fields m-t-20",children:[(0,p.jsx)("input",(0,a.Z)({placeholder:"MinTemp"},s("minTemp"))),(0,p.jsx)("br",{}),(0,p.jsx)("input",(0,a.Z)((0,a.Z)({},s("maxTemp")),{},{type:"checkbox",value:"Monitor Max",className:"maxTemp"})),(0,p.jsxs)("span",{className:"checkBoxTitle",children:[" ","Monitor Max Temprature"," "]})]})]}),(0,p.jsx)("hr",{})]})]})})]})})}},884:function(e,s,r){var a=r(4569),n=r.n(a)().create({baseURL:"https://sensorsapi.herokuapp.com",headers:{"Content-Type":"application/json"}});s.Z=n}}]);
//# sourceMappingURL=254.90050d68.chunk.js.map